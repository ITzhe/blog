[{"content":"拉取镜像\n1 ctr image pull docker.io/library/nginx:latest 查看容器\nctr image ls -q 创建容器\nctr c create docker.io/library/nginx:latest nginx 启动容器\nctr task start -d nginx 直接启动容器（创建容器+启动容器）\nctr run -d --net-host nginx bash 查看容器状态\nctr task ls 进入容器\nctr task exec -t --exec-id 0 nginx /bin/bash 停止容器\nctr task kill nginx 暂停容器\nctr task pause nginx ","date":"2023-02-27T16:03:31+08:00","image":"https://caizhe-img.oss-cn-beijing.aliyuncs.com/blog/containerd-horizontal-color.png","permalink":"https://caizhe.org/p/hugo-slug/","title":"Containerd常用命令"},{"content":"最近乘着双十一有优惠，买了台香港的服务器，之前一直用公司的，打算换成自己的，写篇博客记录一下，直接开始\n系统：Ubuntu 18\n1 2 3 4 apt-get update apt-get install python-pip pip install shadowsocks apt-get install python-m2crypto 创建配置文件（默认不存在）\n1 2 3 4 5 6 7 8 9 10 11 12 cat /etc/shadowsocks.json { \u0026#34;server\u0026#34;: \u0026#34;0.0.0.0\u0026#34;, \u0026#34;server_port\u0026#34;: 13090, # 服务的要开放的端口 \u0026#34;local_port\u0026#34;: 1080, \u0026#34;password\u0026#34;: \u0026#34;111111\u0026#34;, # 连接的密码 \u0026#34;timeout\u0026#34;: 600, \u0026#34;method\u0026#34;: \u0026#34;aes-256-cfb\u0026#34;, # 加密算法（aes-256-gcm好像不行） \u0026#34;fast_open\u0026#34;: false, \u0026#34;workers\u0026#34;: 1, \u0026#34;prefer_ipv6\u0026#34;: false } 启动\n1 ssserver -c /etc/shadowsocks.json -d start 如果启动报错：\n1 AttributeError: /usr/lib/x86_64-linux-gnu/libcrypto.so.1.1: undefined symbol: EVP_CIPHER_CTX_cleanup 执行此命令：\n1 sed -i \u0026#34;s#EVP_CIPHER_CTX_cleanup#EVP_CIPHER_CTX_reset#g\u0026#34; /usr/local/lib/python2.7/dist-packages/shadowsocks/crypto/openssl.py 可以去GitHub上下载最新的客户端 https://github.com/shadowsocks BBR 加速\n1 2 3 4 wget --no-check-certificate https://github.com/teddysun/across/raw/master/bbr.sh chmod +x bbr.sh ./bbr.sh lsmod | grep bbr //返回值如果有tcp_bbr模块，就说明bbr已经启动了。 连上之后可以先百度一下自己的IP，看看是不是改了。\n参考连接：https://zinyan.com/?p=6\n","date":"2023-02-27T16:02:14+08:00","image":"https://caizhe-img.oss-cn-beijing.aliyuncs.com/blog/containerd-horizontal-color.png","permalink":"https://caizhe.org/p/hugo-slug/","title":"Shadowsocks部署"},{"content":"注意：\n两套k8s集群必须版本一致，自己试验1.13和1.15不通用。\n具体使用方法：\n1 2 3 4 5 6 7 8 9 [root@bogon ~]# kubectl get node --kubeconfig=/root/.kube/config NAME STATUS ROLES AGE VERSION bogon NotReady master 122m v1.15.1 [root@bogon ~]# kubectl get node --kubeconfig=/root/.kube/config1 NAME STATUS ROLES AGE VERSION k8s-master01 Ready master 320d v1.15.1 k8s-master02 Ready master 320d v1.15.1 k8s-master03 Ready master 320d v1.15.1 k8s-node1 Ready \u0026lt;none\u0026gt; 320d v1.15.1 ","date":"2023-02-27T15:59:25+08:00","image":"https://caizhe-img.oss-cn-beijing.aliyuncs.com/blog/containerd-horizontal-color.png","permalink":"https://caizhe.org/p/hugo-slug/","title":"Kubectl管理多套k8s"},{"content":"1、下载依赖安装包\n1 2 3 wget https://github.com/containerd/containerd/releases/download/v1.5.5/cri-containerd-cni-1.5.5-linux-amd64.tar.gz # 如果无法访问github可以使用下面地址 # wget https://download.fastgit.org/containerd/containerd/releases/download/v1.5.5/cri-containerd-cni-1.5.5-linux-amd64.tar.gz 2、解压\n1 tar -C / -xzf cri-containerd-cni-1.5.5-linux-amd64.tar.gz 3、配置：\n默认配置文件为 /etc/containerd/config.toml，我们可以通过如下所示的命令生成\n1 2 mkdir -p /etc/containerd containerd config default \u0026gt; /etc/containerd/config.toml 4、启动\n1 systemctl enable containerd --now 5、验证\n1 2 3 4 5 6 7 8 9 10 # ctr version Client: Version: v1.5.5 Revision: 72cec4be58a9eb6b2910f5d10f1c01ca47d231c0 Go version: go1.16.6 Server: Version: v1.5.5 Revision: 72cec4be58a9eb6b2910f5d10f1c01ca47d231c0 UUID: 38613830-5cd0-4bc4-81b4-2bcdced721d3 ","date":"2023-02-27T10:58:02+08:00","image":"https://caizhe-img.oss-cn-beijing.aliyuncs.com/blog/containerd-horizontal-color.png","permalink":"https://caizhe.org/p/containerd%E5%AE%89%E8%A3%85/","title":"Containerd安装"}]